{"numFailedTestSuites":1,"numFailedTests":5,"numPassedTestSuites":2,"numPassedTests":14,"numPendingTestSuites":0,"numPendingTests":0,"numRuntimeErrorTestSuites":0,"numTodoTests":0,"numTotalTestSuites":3,"numTotalTests":19,"openHandles":[],"snapshot":{"added":0,"didUpdate":false,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0},"startTime":1756815801762,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["PaymentsService","create"],"duration":69,"failureDetails":[],"failureMessages":[],"fullName":"PaymentsService create creates full payment, updates invoice to PAID, logs history, and sends email when prefs enabled","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"creates full payment, updates invoice to PAID, logs history, and sends email when prefs enabled"},{"ancestorTitles":["PaymentsService","create"],"duration":31,"failureDetails":[],"failureMessages":[],"fullName":"PaymentsService create creates partial payment, updates invoice to PARTIALLY_PAID, logs history, and does not send email if emailNotificationsEnabled is false","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"creates partial payment, updates invoice to PARTIALLY_PAID, logs history, and does not send email if emailNotificationsEnabled is false"},{"ancestorTitles":["PaymentsService","create"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"PaymentsService create does not send email if emailNotifyPaymentReceived is false","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"does not send email if emailNotifyPaymentReceived is false"},{"ancestorTitles":["PaymentsService","create"],"duration":162,"failureDetails":[],"failureMessages":[],"fullName":"PaymentsService create handles email sending failure gracefully","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"handles email sending failure gracefully"},{"ancestorTitles":["PaymentsService","create"],"duration":11,"failureDetails":[],"failureMessages":[],"fullName":"PaymentsService create throws NotFoundException when invoice not found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"throws NotFoundException when invoice not found"},{"ancestorTitles":["PaymentsService","create"],"duration":9,"failureDetails":[],"failureMessages":[],"fullName":"PaymentsService create throws BadRequestException when overpaying","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"throws BadRequestException when overpaying"},{"ancestorTitles":["PaymentsService","processPayment"],"duration":5030,"failureDetails":[{"message":"thrown: \"Exceeded timeout of 5000 ms for a test.\nAdd a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\""}],"failureMessages":["Error: thrown: \"Exceeded timeout of 5000 ms for a test.\nAdd a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n    at D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\src\\modules\\payments\\payments.service.spec.ts:168:5\n    at _dispatchDescribe (D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\node_modules\\jest-circus\\build\\index.js:91:26)\n    at describe (D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\node_modules\\jest-circus\\build\\index.js:55:5)\n    at D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\src\\modules\\payments\\payments.service.spec.ts:167:3\n    at _dispatchDescribe (D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\node_modules\\jest-circus\\build\\index.js:91:26)\n    at describe (D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\node_modules\\jest-circus\\build\\index.js:55:5)\n    at Object.<anonymous> (D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\src\\modules\\payments\\payments.service.spec.ts:33:1)\n    at Runtime._execModule (D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\node_modules\\jest-runtime\\build\\index.js:1439:24)\n    at Runtime._loadModule (D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\node_modules\\jest-runtime\\build\\index.js:1022:12)\n    at Runtime.requireModule (D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\node_modules\\jest-runtime\\build\\index.js:882:12)\n    at jestAdapter (D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:77:13)\n    at runTestInternal (D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)"],"fullName":"PaymentsService processPayment processes payment successfully and sends email when prefs enabled","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"processes payment successfully and sends email when prefs enabled"},{"ancestorTitles":["PaymentsService","processPayment"],"duration":5019,"failureDetails":[{"message":"thrown: \"Exceeded timeout of 5000 ms for a test.\nAdd a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\""}],"failureMessages":["Error: thrown: \"Exceeded timeout of 5000 ms for a test.\nAdd a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n    at D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\src\\modules\\payments\\payments.service.spec.ts:189:5\n    at _dispatchDescribe (D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\node_modules\\jest-circus\\build\\index.js:91:26)\n    at describe (D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\node_modules\\jest-circus\\build\\index.js:55:5)\n    at D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\src\\modules\\payments\\payments.service.spec.ts:167:3\n    at _dispatchDescribe (D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\node_modules\\jest-circus\\build\\index.js:91:26)\n    at describe (D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\node_modules\\jest-circus\\build\\index.js:55:5)\n    at Object.<anonymous> (D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\src\\modules\\payments\\payments.service.spec.ts:33:1)\n    at Runtime._execModule (D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\node_modules\\jest-runtime\\build\\index.js:1439:24)\n    at Runtime._loadModule (D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\node_modules\\jest-runtime\\build\\index.js:1022:12)\n    at Runtime.requireModule (D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\node_modules\\jest-runtime\\build\\index.js:882:12)\n    at jestAdapter (D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:77:13)\n    at runTestInternal (D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)"],"fullName":"PaymentsService processPayment processes payment successfully but does not send email when prefs disabled","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"processes payment successfully but does not send email when prefs disabled"},{"ancestorTitles":["PaymentsService","processPayment"],"duration":5039,"failureDetails":[{"message":"thrown: \"Exceeded timeout of 5000 ms for a test.\nAdd a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\""}],"failureMessages":["Error: thrown: \"Exceeded timeout of 5000 ms for a test.\nAdd a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n    at D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\src\\modules\\payments\\payments.service.spec.ts:207:5\n    at _dispatchDescribe (D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\node_modules\\jest-circus\\build\\index.js:91:26)\n    at describe (D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\node_modules\\jest-circus\\build\\index.js:55:5)\n    at D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\src\\modules\\payments\\payments.service.spec.ts:167:3\n    at _dispatchDescribe (D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\node_modules\\jest-circus\\build\\index.js:91:26)\n    at describe (D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\node_modules\\jest-circus\\build\\index.js:55:5)\n    at Object.<anonymous> (D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\src\\modules\\payments\\payments.service.spec.ts:33:1)\n    at Runtime._execModule (D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\node_modules\\jest-runtime\\build\\index.js:1439:24)\n    at Runtime._loadModule (D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\node_modules\\jest-runtime\\build\\index.js:1022:12)\n    at Runtime.requireModule (D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\node_modules\\jest-runtime\\build\\index.js:882:12)\n    at jestAdapter (D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:77:13)\n    at runTestInternal (D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)"],"fullName":"PaymentsService processPayment processes payment successfully but does not send email when emailNotifyPaymentReceived is false","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"processes payment successfully but does not send email when emailNotifyPaymentReceived is false"},{"ancestorTitles":["PaymentsService","processPayment"],"duration":5020,"failureDetails":[{"message":"thrown: \"Exceeded timeout of 5000 ms for a test.\nAdd a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\""}],"failureMessages":["Error: thrown: \"Exceeded timeout of 5000 ms for a test.\nAdd a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n    at D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\src\\modules\\payments\\payments.service.spec.ts:225:5\n    at _dispatchDescribe (D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\node_modules\\jest-circus\\build\\index.js:91:26)\n    at describe (D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\node_modules\\jest-circus\\build\\index.js:55:5)\n    at D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\src\\modules\\payments\\payments.service.spec.ts:167:3\n    at _dispatchDescribe (D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\node_modules\\jest-circus\\build\\index.js:91:26)\n    at describe (D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\node_modules\\jest-circus\\build\\index.js:55:5)\n    at Object.<anonymous> (D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\src\\modules\\payments\\payments.service.spec.ts:33:1)\n    at Runtime._execModule (D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\node_modules\\jest-runtime\\build\\index.js:1439:24)\n    at Runtime._loadModule (D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\node_modules\\jest-runtime\\build\\index.js:1022:12)\n    at Runtime.requireModule (D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\node_modules\\jest-runtime\\build\\index.js:882:12)\n    at jestAdapter (D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:77:13)\n    at runTestInternal (D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)"],"fullName":"PaymentsService processPayment handles email sending failure gracefully on success path","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"handles email sending failure gracefully on success path"},{"ancestorTitles":["PaymentsService","processPayment"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"PaymentsService processPayment throws NotFoundException when invoice not found","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"throws NotFoundException when invoice not found"},{"ancestorTitles":["PaymentsService","processPayment"],"duration":5005,"failureDetails":[{"message":"thrown: \"Exceeded timeout of 5000 ms for a test.\nAdd a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\""}],"failureMessages":["Error: thrown: \"Exceeded timeout of 5000 ms for a test.\nAdd a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n    at D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\src\\modules\\payments\\payments.service.spec.ts:251:5\n    at _dispatchDescribe (D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\node_modules\\jest-circus\\build\\index.js:91:26)\n    at describe (D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\node_modules\\jest-circus\\build\\index.js:55:5)\n    at D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\src\\modules\\payments\\payments.service.spec.ts:167:3\n    at _dispatchDescribe (D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\node_modules\\jest-circus\\build\\index.js:91:26)\n    at describe (D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\node_modules\\jest-circus\\build\\index.js:55:5)\n    at Object.<anonymous> (D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\src\\modules\\payments\\payments.service.spec.ts:33:1)\n    at Runtime._execModule (D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\node_modules\\jest-runtime\\build\\index.js:1439:24)\n    at Runtime._loadModule (D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\node_modules\\jest-runtime\\build\\index.js:1022:12)\n    at Runtime.requireModule (D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\node_modules\\jest-runtime\\build\\index.js:882:12)\n    at jestAdapter (D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:77:13)\n    at runTestInternal (D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)"],"fullName":"PaymentsService processPayment creates failed payment and throws BadRequestException when processing fails","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"creates failed payment and throws BadRequestException when processing fails"}],"endTime":1756815850061,"message":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mPaymentsService › processPayment › processes payment successfully and sends email when prefs enabled\u001b[39m\u001b[22m\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 166 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 167 |\u001b[39m   describe(\u001b[32m'processPayment'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 168 |\u001b[39m     it(\u001b[32m'processes payment successfully and sends email when prefs enabled'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 169 |\u001b[39m       jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 170 |\u001b[39m       \u001b[33mMath\u001b[39m\u001b[33m.\u001b[39mrandom \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m \u001b[35m0.9\u001b[39m\u001b[33m;\u001b[39m \u001b[90m// success\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 171 |\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m\u001b[0m\u001b[36mmodules/payments/payments.service.spec.ts\u001b[39m\u001b[0m\u001b[2m:168:5\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m\u001b[0m\u001b[36mmodules/payments/payments.service.spec.ts\u001b[39m\u001b[0m\u001b[2m:167:3\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mmodules/payments/payments.service.spec.ts\u001b[39m\u001b[0m\u001b[2m:33:1)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mPaymentsService › processPayment › processes payment successfully but does not send email when prefs disabled\u001b[39m\u001b[22m\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 187 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 188 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 189 |\u001b[39m     it(\u001b[32m'processes payment successfully but does not send email when prefs disabled'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 190 |\u001b[39m       jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 191 |\u001b[39m       \u001b[33mMath\u001b[39m\u001b[33m.\u001b[39mrandom \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m \u001b[35m0.9\u001b[39m\u001b[33m;\u001b[39m \u001b[90m// success\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 192 |\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m\u001b[0m\u001b[36mmodules/payments/payments.service.spec.ts\u001b[39m\u001b[0m\u001b[2m:189:5\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m\u001b[0m\u001b[36mmodules/payments/payments.service.spec.ts\u001b[39m\u001b[0m\u001b[2m:167:3\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mmodules/payments/payments.service.spec.ts\u001b[39m\u001b[0m\u001b[2m:33:1)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mPaymentsService › processPayment › processes payment successfully but does not send email when emailNotifyPaymentReceived is false\u001b[39m\u001b[22m\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 205 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 206 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 207 |\u001b[39m     it(\u001b[32m'processes payment successfully but does not send email when emailNotifyPaymentReceived is false'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 208 |\u001b[39m       jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 209 |\u001b[39m       \u001b[33mMath\u001b[39m\u001b[33m.\u001b[39mrandom \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m \u001b[35m0.9\u001b[39m\u001b[33m;\u001b[39m \u001b[90m// success\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 210 |\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m\u001b[0m\u001b[36mmodules/payments/payments.service.spec.ts\u001b[39m\u001b[0m\u001b[2m:207:5\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m\u001b[0m\u001b[36mmodules/payments/payments.service.spec.ts\u001b[39m\u001b[0m\u001b[2m:167:3\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mmodules/payments/payments.service.spec.ts\u001b[39m\u001b[0m\u001b[2m:33:1)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mPaymentsService › processPayment › handles email sending failure gracefully on success path\u001b[39m\u001b[22m\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 223 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 224 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 225 |\u001b[39m     it(\u001b[32m'handles email sending failure gracefully on success path'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 226 |\u001b[39m       jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 227 |\u001b[39m       \u001b[33mMath\u001b[39m\u001b[33m.\u001b[39mrandom \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m \u001b[35m0.9\u001b[39m\u001b[33m;\u001b[39m \u001b[90m// success\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 228 |\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m\u001b[0m\u001b[36mmodules/payments/payments.service.spec.ts\u001b[39m\u001b[0m\u001b[2m:225:5\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m\u001b[0m\u001b[36mmodules/payments/payments.service.spec.ts\u001b[39m\u001b[0m\u001b[2m:167:3\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mmodules/payments/payments.service.spec.ts\u001b[39m\u001b[0m\u001b[2m:33:1)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mPaymentsService › processPayment › creates failed payment and throws BadRequestException when processing fails\u001b[39m\u001b[22m\n\n    thrown: \"Exceeded timeout of 5000 ms for a test.\n    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 249 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 250 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 251 |\u001b[39m     it(\u001b[32m'creates failed payment and throws BadRequestException when processing fails'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m     \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 252 |\u001b[39m       jest\u001b[33m.\u001b[39museFakeTimers()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 253 |\u001b[39m       \u001b[33mMath\u001b[39m\u001b[33m.\u001b[39mrandom \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m \u001b[35m0.05\u001b[39m\u001b[33m;\u001b[39m \u001b[90m// failure\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 254 |\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m\u001b[0m\u001b[36mmodules/payments/payments.service.spec.ts\u001b[39m\u001b[0m\u001b[2m:251:5\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2m\u001b[0m\u001b[36mmodules/payments/payments.service.spec.ts\u001b[39m\u001b[0m\u001b[2m:167:3\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36mmodules/payments/payments.service.spec.ts\u001b[39m\u001b[0m\u001b[2m:33:1)\u001b[22m\u001b[2m\u001b[22m\n","name":"D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\src\\modules\\payments\\payments.service.spec.ts","startTime":1756815804166,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["InvoicesService.sendInvoice"],"duration":28,"failureDetails":[],"failureMessages":[],"fullName":"InvoicesService.sendInvoice sends email when preferences enabled","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"sends email when preferences enabled"},{"ancestorTitles":["InvoicesService.sendInvoice"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"InvoicesService.sendInvoice skips email when preferences disabled","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"skips email when preferences disabled"},{"ancestorTitles":["InvoicesService.sendInvoice"],"duration":10,"failureDetails":[],"failureMessages":[],"fullName":"InvoicesService.sendInvoice skips email when emailNotifyNewInvoice disabled","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"skips email when emailNotifyNewInvoice disabled"},{"ancestorTitles":["InvoicesService.sendInvoice"],"duration":14,"failureDetails":[],"failureMessages":[],"fullName":"InvoicesService.sendInvoice skips email when both preferences disabled","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"skips email when both preferences disabled"},{"ancestorTitles":["InvoicesService.sendInvoice"],"duration":75,"failureDetails":[],"failureMessages":[],"fullName":"InvoicesService.sendInvoice handles email failure gracefully","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"handles email failure gracefully"},{"ancestorTitles":["InvoicesService.sendInvoice"],"duration":12,"failureDetails":[],"failureMessages":[],"fullName":"InvoicesService.sendInvoice throws NotFoundException when invoice not found","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"throws NotFoundException when invoice not found"}],"endTime":1756815852797,"message":"","name":"D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\src\\modules\\invoices\\invoices.service.spec.ts","startTime":1756815851163,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["AppController","root"],"duration":26,"failureDetails":[],"failureMessages":[],"fullName":"AppController root should return \"Hello World!\"","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should return \"Hello World!\""}],"endTime":1756815853876,"message":"","name":"D:\\Programming and Development\\Nextjs, Nestjs and Prisma\\13.Invoicy\\backend\\src\\app.controller.spec.ts","startTime":1756815852914,"status":"passed","summary":""}],"wasInterrupted":false}
